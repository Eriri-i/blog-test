(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{282:function(t,e,s){"use strict";s.r(e);var a=s(13),l=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"systemctl笔记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#systemctl笔记"}},[t._v("#")]),t._v(" systemctl笔记")]),t._v(" "),s("h2",{attrs:{id:"一、由来"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、由来"}},[t._v("#")]),t._v(" 一、由来")]),t._v(" "),s("p",[t._v("最近公司安全管理部门扫描公司服务器，发现由我负责维护的几台服务器有几个安全漏洞，需要在指定时间内修复。我浏览了下公司漏洞扫描报告，发现这些漏洞主要由目前不使用的服务引起的，停掉这些服务就 ok。")]),t._v(" "),s("p",[t._v("由于这些服务是直接安装在 linux 服务的，需要停掉这些服务，就需要用到 linux 的系统工具 ——Systemd。")]),t._v(" "),s("h2",{attrs:{id:"二、解决方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、解决方式"}},[t._v("#")]),t._v(" 二、解决方式")]),t._v(" "),s("p",[t._v("以要停止 postfix 服务为例。")]),t._v(" "),s("ol",[s("li",[t._v("查看在运行的服务")]),t._v(" "),s("li",[t._v("停止服务")]),t._v(" "),s("li",[t._v("取消守护进程")]),t._v(" "),s("li",[t._v("刷新配置")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centripetal ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl | grep running")]),t._v("\n\nNetworkManager.service                                                      loaded active running   Network Manager                                                              \npolkit.service                                                              loaded active running   Authorization Manager                                                        \npostfix.service                                                             loaded active running   Postfix Mail Transport Agent                                                 \nsystemd-journald.socket                                                     loaded active running   Journal Socket                                                               \nsystemd-udevd-control.socket                                                loaded active running   udev Control Socket                                                          \nsystemd-udevd-kernel.socket                                                 loaded active running   udev Kernel Socket \n")])])]),s("h2",{attrs:{id:"三、补充资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、补充资料"}},[t._v("#")]),t._v(" 三、补充资料")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("对应操作")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("指令")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("启动服务")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl start postfix.service")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("关闭服务")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl stop postfix.service")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("重启服务")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl restart postfix.service")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("显示服务的状态")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl status postfix.service")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("在开机时启用服务")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl enable postfix.service")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("在开机时禁用服务")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl disable postfix.service")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("查看服务是否开机启动")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl is-enabled postfix.service")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("查看已启动的服务列表")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl list-unit-files | grep enabled")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("查看启动失败的服务列表")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("systemctl --failed")])])])])])}),[],!1,null,null,null);e.default=l.exports}}]);